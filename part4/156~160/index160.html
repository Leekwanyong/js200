<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fetch API 예제</title>
    </head>
    <body>
        <div id="user"></div>
        <script>
            const userEl = document.getElementById("user");
            const reqPromise = fetch("https://api.github.com/users/jeado", {
                method: { Accept: "application/json" },
                method: "GET",
            });
            reqPromise
                .then((res) => {
                    if (res.status >= 200 && res.status < 300) {
                        return res.json();
                    } else {
                        return Promise.reject(new Error(`Got status ${req.status}`));
                    }
                })
                .then((user) => {
                    userEl.innerHTML = `<img src="${user.avatar_url}"/>`;
                })
                .catch((e) => alert(e));
        </script>
    </body>
</html>
